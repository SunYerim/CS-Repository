## 데드락(DeadLock, 교착 상태)

두 개 이상의 프로세스나 스레드가 서로 자원을 얻지 못해 다음 처리를 하지 못하는 상태 <br> 
**무한히 다음 자원을 기다리게 되는 상태를 말한다** <br>
시스템적으로 한정된 자원을 여러 곳에서 사용하려고 할 때 발생한다

<br> 

***데드락이 일어나는 경우***
- 프로세스1이 자원1을 얻음 / 프로세스2가 자원2를 얻음
- 프로세스1은 자원2를 기다림 / 프로세스2는 자원1을 기다림

→ 현재 서로 원하는 자원이 상대방에 할당되어 있어서 두 프로세스는 무한정 wait 상태에 빠짐 == 이것이 바로 ✨**DeadLock**✨

<br>

>💡 ***주로 발생하는 경우*** <br>
멀티 프로그래밍 환경에서 한정된 자원을 얻기 위해 서로 경쟁하는 상황 발생 <br>
한 프로세스가 자원을 요청했을 때 동시에 그 자원을 사용할 수 없는 상황이 발생할 수 있음 이때 프로세스는 대기 상태로 들어감 <br>
대기 상태로 들어간 프로세스들이 실행 상태로 변경될 수 없을 때 **교착 상태** 발생!

<br>

### 데드락 발생 조건
---
📢 4가지 모두 성립해야 데드락 발생! (하나라도 성립하지 않으면 데드락 문제 해결 가능)
 

<br>

1. **상호 배제** <br>
    자원은 한 번에 한 프로세스만 사용할 수 있음

2. **점유 대기** <br>
    최소한 하나의 자원을 점유하고 있으면서 다른 프로세스에 할당되어 사용하고 있는 자원을 추가로 점유하기 위해 대기하는 프로세스가 존재해야 함
3. **비선점** <br>
    다른 프로세스에 할당된 자원은 사용이 끝날 때까지 강제로 빼앗을 수 없음
4. **순환 대기** <br>
    프로세스의 집합에서 순환 형태로 자원을 대기하고 있어야 함

<br>

### 데드락 처리
---
1. **예방** <br>
    교착 상태 발생 조건 중 하나를 제거하면서 해결한다 → <u> 자원 낭비 엄청 심하다</u>
2. **회피** <br>
    교착 상태 발생 시 피해나가는 방법
    - 은행원 알고리즘
    - 자원 할당 그래프 알고리즘
3. **탐지** <br>
    자원 할당 그래프를 통해 교착 상태를 탐지 <br>
    자원 요청 시 탐지 알고리즘을 실행시켜 그에 대한 오버헤드 발생
4. **회복** <br>
    교착 상태 일으킨 프로세스를 종료하거나 할당된 자원을 해제시켜 회복시키는 방법