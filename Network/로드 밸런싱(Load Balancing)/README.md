## 로드 밸런싱(Load Balancing)
둘 이상의 CPU or 저장 장치와 같은 컴퓨터 자원들에게 작업을 나누는 것

요즘 시대에는 웹 사이트에 접속하는 인원이 급격히 늘어나게 되었다. 따라서 이 사람들에 대해 모든 트래픽을 감당하기엔 1대의 서버로는 부족하다

<br>

하드웨어 향상 비용이 더욱 비사끼도 하고 서버가 여러대면 무중단 서비스를 제공하는 환경 구성이 용이하므로 Scale-out이 효과적이다. 이때 **여러 서버에게 균등하게 트래픽을 분산**시켜주는 것이 바로 ```로드 밸런싱```이다.

<br>

### 로드 밸런싱
---
분산식 웹 서비스로, 여러 서버에 부하(Load)를 나누어주는 역할을 한다. <br>

<img src="https://github.com/user-attachments/assets/efc69eb4-8ddd-4e3f-8a52-e259a6ff1e04">

<br>

Load Balancer를 클라이언트와 서버 사이에 두고 **부하가 일어나지 않도록 여러 서버에 분산**시켜주는 방식이다.

<br>

서비스를 운영하는 사이트의 규모에 따라 웹 서버를 추가로 증설하면서 로드 밸런서로 관리해주면 웹 서버의 부하를 해결할 수 있다.

<br>

### 로드 밸런싱 이점
---
1. **애플리케이션 가용성** <br>
    서버 문제를 자동으로 감지하고 클라이언트 트래픽을 사용 가능한 서버로 리디렉션하여 시스템의 내결함성을 높인다.

<br>

2. **애플리케이션 확장성** <br>
    로드 밸런싱이 다음을 수행하므로 애플리케이션에서 수천 개의 클라이언트 요청을 처리할 수 있다.
    <br>
    - 한 서버에서 트래픽 병목 현상 방지
    - 필요한 경우 다른 서버를 추가하거나 제거할 수 있도록 애플리케이션 트래픽 예측
    - 안심하고 조정할 수 있도록 시스템에 중복성 추가

<br>

3. **애플리케이션 보안** <br>
    로드 밸런서에는 인터넷 애플리케이션에 또 다른 보안 계층을 추가할 수 있는 보안 기능이 내장되어 있다. 로드 밸런서는 다음을 수행할 수도 있다<br>
    - 트래픽 모니터링 및 안성 콘텐츠 차단
    - 공격 트래픽을 여러 백엔드 서버로 자동으로 리디렉션하여 영향 최소화 
    - 추가 보안을 위해 네트워크 방화벽 그룹을 통해 트래픽 라우팅

<br>

4. **애플리케이션 성능** <br>
    로드 밸런서는 응답 시간을 늘리고 네트워크 지연 시간을 줄여 애플리케이션 성능을 향상시킨다. 
    - 클라이언트 요청을 지리적으로 더 가까운 서버로 리디렉션하여 지연 시간 단축

<br>

### 로드 밸런서가 서버를 선택하는 방식
---
1. **라운드 로빈** <br>
    CPU 스케줄링의 라운드 로빈 방식 활용 <br><br>
    > 💡 **라운드 로빈 스케줄링** <br> 시분할 시스템을 위해 설계된 선점형 스케줄링의 하나로서, 프로세스들 사이에 우선순위를 두지 않고, 순서대로 시간단위로 CPU를 할당하는 방식의 CPU 스케줄링 알고리즘

<br>

2. **Least Connections**<br>
    연결 개수가 가장 적은 서버 선택 → 트래픽으로 인해 세션이 길어지는 경우 권장

<br>

3. **Source**<br>
    사용자 IP를 해싱하여 분배 (특정 사용자가 항상 같은 서버로 연결되는 것 보장)

<br><br>
### 면접 질문 예상
---
<details>
  <summary>대용량 트래픽을 어떻게 처리할 것인지 설명하세요.</summary>
    <br>
    첫째, scale-out 방식으로 서버의 개수를 늘려서 많은 트래픽을 여러 서버가 나눠서 처리하는 방법이 있습니다. 클라이언트 요청을 어떤 서버에서 처리할 것인지와 한 서버에만 트래픽이 몰리는 것을 방지하기 위해 로드 밸런싱으로 트래픽 조절이 필요합니다 <br><br>
    둘째, scale-up 방식으로 한 대의 서버를 구성하는 부품을 추가하거나 업그레이드하여 서버 자체의 처리 능력을 향상시키는 방법도 고려할 수 있습니다. 이 방법은 서버의 성능을 직접적으로 높일 수 있지만 성능 향상에 한계가 있으며 비용부담이 크다는 단점이 있습니다.
</details>

<br><br>
**[참고]** <br>
https://velog.io/@cks8483/2-be-week-Load-Balancing