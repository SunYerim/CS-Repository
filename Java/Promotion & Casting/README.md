## Promotion & Casting

<br><br>

### 데이터 타입 형변환 (타입 변환)
---
서로 다른 데이터 타입끼리의 연산이 필요할 때가 있는데 이때 변수의 데이터 타입을 바꿔주는 작업을 **데이터 타입의 형변환**이라고 한다. <br><br>
크게 ```자동 형변환(=묵시적 타입 변환)```과 ```강제 형변환(=명시적 타입 변환)```이 있다.

<br><br>

### Promotion (자동 형변환, 묵시적 형변환)
---
프로그램 실행 도중에 자동적으로 형변환이 일어나는 것을 말한다. 또한, 작은 메모리 크기의 데이터 타입을 큰 메모리 크기의 데이터 타입으로 변환하는 행위를 말한다.

```
byte a = 10;
int b = a; // byte 데이터 타입의 변수 a를 int 데이터 타입 변수 b에 저장
```

작은 메모리 크기의 데이터 타입에서 큰 메모리 크기의 데이터 타입에 값을 저장하면 별다른 문법 없이 형변환이 일어난다 → ***자동 형변환***

#### 자동 형변환이 이루어지는 순서 ✨

<img src="https://github.com/user-attachments/assets/81ee4050-eb70-4e20-9b99-bff5690537c8">

<br>

> 📢주의할 점은 메모리 크기가 큰 데이터 타입이라도, **타입 범위를 포함하지 못한다면** 자동 형변환이 불가능하다 <br><br>
① byte 데이터 타입 → char 데이터 타입 자동 형변환 불가 <br>
② float 데이터 타입 → long 데이터 타입 자동 형변환 불가
<br>
(표현할 수 있는 값의 범위가 float 데이터 타입이 더 크다!)

<br><br>

### Casting (강제 형변환, 명시적 형변환)
---
특정 조건을 갖추지 못했지만 형변환을 하고 싶을 때 사용

```
int intValue = 1;
byte byteValue = intValue;
```
- 위 코드를 실행하면 컴파일 에러가 발생하는데 그 이유는 저장될 값 1에 상관없이 **int 데이터 타입이 byte 데이터 타입보다 메모리 크기가 크기 때문**이다 → 정상적이지 않은 값이 나올 수 있다

- 하지만 우리가 형변환 하려는 정수 값 1은 byte 데이터 타입 범위 안에 충분히 들어가기 때문에 아래와 같이 강제 형변환을 할 수 있다.

```
int intValue = 1;
byte byteValue = (byte) intValue;
```

<br><br>

### 형변환 연산
---
+,-,*,/ 과 같은 기본적인 사칙연산은 서로 다른 데이터 타입의 피연산자가 있을 경우 **두 핀연산자 중 크기가 큰 타입으로 자동 형변환된 후** 연산이 수행된다. <br>

```
int intValue = 10;
double doubleValue = 5.5;
double result = intValue + doubleValue; // int 타입의 피연산자가 double 타입으로 자동 형변환되고 연산이 수행된다. 그리고 결과도 double 타입이 된다.
```

💡 ***만약 int 데이터 타입의 연산 결과를 얻고 싶다면, 강제 형변환을 한다.***

<br><br>

### 면접 질문 예상
---
<details>
  <summary>자동 형변환과 명시적 형변환에 대해 설명해주세요.</summary>
    <br>
    자동 형변환은 작은 데이터 타입이 큰 데이터 타입으로 변환될 때, 컴파일러가 자동으로 처리하는 형변환입니다. 예를 들어 int 타입이 long 타입으로 변환될 때 발생합니다.
    <br><br>
    명시적 형변환은 자동 형변환 법칙에 맞지 않지만 형변환을 진행해야 하는 경우 사용합니다. 개발자가 직접 형변환을 지정하는 것으로, 필요한 경우에 사용됩니다. 작은 데이터 타입에서 큰 데이터 타입으로의 변환이 필요한 경우에 사용합니다. 이때 데이터 손실이 발생할 수 있습니다. 
</details>

<br>

<details>
  <summary>자동 형변환 규칙에 대해 설명해주세요.</summary>
    <br>
    자료형의 크기가 큰 방향으로 형변환이 일어납니다. 예를 들어, byte → short → int → long → float → double 순서로 형변환이 이루어집니다. 
    <br><br>
    자료형 크기와 상관없이, 실수 자료형은 정수 자료형보다 우선적으로 형변환됩니다.
</details>